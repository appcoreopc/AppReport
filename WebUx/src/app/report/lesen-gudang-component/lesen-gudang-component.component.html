  

<div class="container">

 

	<p-dialog id="formAction" header="{{formTitle}}" [(visible)]="display" modal='true'>



		<p-tabView [activeIndex]="tabIndex" >

			<p-tabPanel header="Basic Entry" (click)="changeTab(0)"> 
				 
                <form [formGroup]='dataForm'> 
					<div style="width:1000px;padding:0px"> 
						<div class="panel panel-info">
							<div class="panel-body" style="padding:5px; padding-left:30px">
                     
                                

                                <div class="form-group row">
									<div class="cell c1">
										<label for="refNo">Reference No :</label>
									</div>
									<div class="cell c2">
										<input id="refNo" type="text" maxlength="50" class="form-control text-control" formControlName="refNo" />
										 <div *ngIf="formErrors.refNo" class="alert alert-danger">
											{{ formErrors.refNo }}
										</div>
									</div>
									<div class="cell c3">
									</div>
									<div class="cell c4">
										<label for="ldate">Date of Letter :</label>
									</div>
									<div class="cell c5">
										<p-calendar dateFormat="dd/mm/yy" formControlName="ldate" [showIcon]="true" [monthNavigator]="true"></p-calendar>
										<div *ngIf="formErrors.ldate" class="alert alert-danger">
											{{ formErrors.ldate }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSdateY2">Current Year - From :</label>
									</div>
									<div class="cell c2">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptSdateY2" showIcon="true"  (onSelect)="onSelectRptSdateY2($event)"></p-calendar>

										<div *ngIf="formErrors.rptSdateY2" class="alert alert-danger">
											{{ formErrors.rptSdateY2 }}
										</div>
									</div>
									<div class="cell c3">
									</div>
									<div class="cell c4">
										<label for="rptEdateY2">To :</label>
									</div>
									<div class="cell c5">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptEdateY2" showIcon="true"></p-calendar>

										<div *ngIf="formErrors.rptEdateY2" class="alert alert-danger">
											{{ formErrors.rptEdateY2 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSdateY1">Last Year - From :</label>
									</div>
									<div class="cell c2">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptSdateY1" showIcon="true" onvl></p-calendar>

										<div *ngIf="formErrors.rptSdateY1" class="alert alert-danger">
											{{ formErrors.rptSdateY1 }}
										</div>
									</div>
									<div class="cell c3">
									</div>
									<div class="cell c4">
										<label for="rptEdateY1">To :</label>
									</div>
									<div class="cell c5">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptEdateY1" showIcon="true"></p-calendar>

										<div *ngIf="formErrors.rptEdateY1" class="alert alert-danger">
											{{ formErrors.rptEdateY1 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSdateY3">Next Year - From :</label>
									</div>
									<div class="cell c2">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptSdateY3" showIcon="true"></p-calendar>

										<div *ngIf="formErrors.rptSdateY3" class="alert alert-danger">
											{{ formErrors.rptSdateY3 }}
										</div>
									</div>
									<div class="cell c3">
									</div>
									<div class="cell c4">
										<label for="rptEdateY3">To :</label>
									</div>
									<div class="cell c5">
										<p-calendar dateFormat="dd/mm/yy" formControlName="rptEdateY3" showIcon="true"></p-calendar>

										<div *ngIf="formErrors.rptEdateY3" class="alert alert-danger">
											{{ formErrors.rptEdateY3 }}
										</div>
									</div>
                                 </div>

                                 <div class="form-group row">
									<div class="cell c1">
										<label for="pbbcekNo">PBB Cek No. :</label>
									</div>
									<div class="cell c2">
										<input id="pbbcekNo" type="text" maxlength="50" class="form-control text-control" formControlName="pbbcekNo" />
										 <div *ngIf="formErrors.pbbcekNo" class="alert alert-danger">
											{{ formErrors.pbbcekNo }}
										</div>
									</div>
									<div class="cell c3">
									</div>
									<div class="cell c4">
										<label for="licenseFee">License Fee (2 Yrs) :</label>
									</div>
									<div class="cell c5">
										<input id="licenseFee" type="number" maxlength="50" class="form-control text-control" formControlName="licenseFee" />
										 <div *ngIf="formErrors.licenseFee" class="alert alert-danger">
											{{ formErrors.licenseFee }}
										</div>
									</div>
								</div>
								
								
                	            <div class="form-group row" style="padding-top:20px">
								<label  class="label label-success" style="font-size:13px">Recipient</label>
                                </div>
                            
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptDept">Department :</label>
									</div>
									<div class="cell c2345">
										<input id="lrcptDept" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptDept" />
										<div *ngIf="formErrors.lrcptDept" class="alert alert-danger">
											{{ formErrors.lrcptDept }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptBr">Branch :</label>
									</div>
									<div class="cell c2345">
										<input id="lrcptBr" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptBr" />
										<div *ngIf="formErrors.lrcptBr" class="alert alert-danger">
											{{ formErrors.lrcptBr }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptAdd1">Address :</label>
									</div>
									<div class="cell c2345">
										<input id="lrcptAdd1" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptAdd1" />
										<div *ngIf="formErrors.lrcptAdd1" class="alert alert-danger">
											{{ formErrors.lrcptAdd1 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptAdd2"></label>
									</div>
									<div class="cell c2345">
										<input id="lrcptAdd2" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptAdd2" />
										<div *ngIf="formErrors.lrcptAdd2" class="alert alert-danger">
											{{ formErrors.lrcptAdd2 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptAdd3"></label>
									</div>
									<div class="cell c2345">
										<input id="lrcptAdd3" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptAdd3" />
										<div *ngIf="formErrors.lrcptAdd3" class="alert alert-danger">
											{{ formErrors.lrcptAdd3 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="lrcptAdd4"></label>
									</div>
									<div class="cell c2345">
										<input id="lrcptAdd4" type="text" maxlength="100"  class="form-control text-control" formControlName="lrcptAdd4" />
										<div *ngIf="formErrors.lrcptAdd4" class="alert alert-danger">
											{{ formErrors.lrcptAdd4 }}
										</div>
									</div>
								</div>

								<div class="form-group row" style="padding-top:20px"> 
									<label  class="label label-success" style="font-size:13px">Letter Signed By</label>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="signedByEmpId">Employee :</label>
									</div>
									<div class="cell c2345">
										<select class="form-control" formControlName="signedByEmpId" style="width:300px" (change)="onEmpChange($event.target.value)">
											<option *ngFor="let obj of empRows" [value]="obj.empId">{{obj.empName}}</option>
										</select>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="signedByName">Name :</label>
									</div>
									<div class="cell c2345">
										<input id="signedByName" type="text" maxlength="50" class="form-control text-control" formControlName="signedByName" />
										<div *ngIf="formErrors.signedByName" class="alert alert-danger">
											{{ formErrors.signedByName }}
										</div>
									</div>
								</div>

 
								<div class="form-group row">
									<div class="cell c1">
										<label for="signedByPos">Position :</label>
									</div>
									<div class="cell c2345">
										<input id="signedByPos" type="text" maxlength="50" class="form-control text-control" formControlName="signedByPos" />
										<div *ngIf="formErrors.signedByPos" class="alert alert-danger">
											{{ formErrors.signedByPos }}
										</div>
									</div>
                                </div>
 
                                <div class="form-group row" style="padding-top:20px">
								  <label  class="label label-success" style="font-size:13px">Recipient (Lampiran B)</label>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptDept">Department :</label>
									</div>
									<div class="cell c2345">
										<input id="brcptDept" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptDept" />
										<div *ngIf="formErrors.brcptDept" class="alert alert-danger">
											{{ formErrors.brcptDept }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptBr">Branch :</label>
									</div>
									<div class="cell c2345">
										<input id="brcptBr" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptBr" />
										<div *ngIf="formErrors.brcptBr" class="alert alert-danger">
											{{ formErrors.brcptBr }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptAdd1">Address :</label>
									</div>
									<div class="cell c2345">
										<input id="brcptAdd1" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptAdd1" />
										<div *ngIf="formErrors.brcptAdd1" class="alert alert-danger">
											{{ formErrors.brcptAdd1 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptAdd2"></label>
									</div>
									<div class="cell c2345">
										<input id="brcptAdd2" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptAdd2" />
										<div *ngIf="formErrors.brcptAdd2" class="alert alert-danger">
											{{ formErrors.brcptAdd2 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptAdd3"></label>
									</div>
									<div class="cell c2345">
										<input id="brcptAdd3" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptAdd3" />
										<div *ngIf="formErrors.brcptAdd3" class="alert alert-danger">
											{{ formErrors.brcptAdd3 }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="brcptAdd4"></label>
									</div>
									<div class="cell c2345">
										<input id="brcptAdd4" type="text" maxlength="100"  class="form-control text-control" formControlName="brcptAdd4" />
										<div *ngIf="formErrors.brcptAdd4" class="alert alert-danger">
											{{ formErrors.brcptAdd4 }}
										</div>
									</div>
								</div> 

								 <div class="form-group row">
									<div class="cell c1">
										<label for="signedDate">Signed Date :</label>
									</div>
									<div class="cell c2345">
										<p-calendar dateFormat="dd/mm/yy" formControlName="signedDate" [showIcon]="true" [monthNavigator]="true"></p-calendar>
										<div *ngIf="formErrors.signedDate" class="alert alert-danger">
											{{ formErrors.signedDate }}
										</div>
									</div> 
                                 </div>

								<div class="form-group row" style="padding-top:20px"> 
									<label  class="label label-success" style="font-size:13px">License Applied By</label>
                                </div>
								
								<div class="form-group row">
									<div class="cell c1">
										<label for="appCoName">Company Name :</label>
									</div>
									<div class="cell c2345">
										<input id="appCoName" type="text" maxlength="50" class="form-control text-control" formControlName="appCoName" />
										<div *ngIf="formErrors.appCoName" class="alert alert-danger">
											{{ formErrors.appCoName }}
										</div>
									</div>
								</div> 
								<div class="form-group row">
									<div class="cell c1">
										<label for="appAdd1">Address :</label>
									</div>
									<div class="cell c2345">
										<input id="appAdd1" type="text" maxlength="50" class="form-control text-control" formControlName="appAdd1" />
										<div *ngIf="formErrors.appAdd1" class="alert alert-danger">
											{{ formErrors.appAdd1 }}
										</div>
									</div>
								</div> 
								<div class="form-group row">
									<div class="cell c1">
										<label for="appAdd2"></label>
									</div>
									<div class="cell c2345">
										<input id="appAdd2" type="text" maxlength="50" class="form-control text-control" formControlName="appAdd2" />
										<div *ngIf="formErrors.appAdd2" class="alert alert-danger">
											{{ formErrors.appAdd2 }}
										</div>
									</div>
								</div> 
								<div class="form-group row">
									<div class="cell c1">
										<label for="appAdd3"></label>
									</div>
									<div class="cell c2345">
										<input id="appAdd3" type="text" maxlength="50" class="form-control text-control" formControlName="appAdd3" />
										<div *ngIf="formErrors.appAdd3" class="alert alert-danger">
											{{ formErrors.appAdd3 }}
										</div>
									</div>
								</div> 
								<div class="form-group row">
									<div class="cell c1">
										<label for="appAdd4"></label>
									</div>
									<div class="cell c2345">
										<input id="appAdd4" type="text" maxlength="50" class="form-control text-control" formControlName="appAdd4" />
										<div *ngIf="formErrors.appAdd4" class="alert alert-danger">
											{{ formErrors.appAdd4 }}
										</div>
									</div>
								</div> 

								<div class="form-group row">
									<div class="cell c1">
										<label for="appByEmpId">Employee :</label>
									</div>
									<div class="cell c2345">
										<select class="form-control" formControlName="appByEmpId" style="width:300px" (change)="onEmpAppChange($event.target.value)">
											<option *ngFor="let obj of empRows" [value]="obj.empId">{{obj.empName}}</option>
										</select>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="appByName">Name :</label>
									</div>
									<div class="cell c2345">
										<input id="appByName" type="text" maxlength="50" class="form-control text-control" formControlName="appByName" />
										<div *ngIf="formErrors.appByName" class="alert alert-danger">
											{{ formErrors.appByName }}
										</div>
									</div>
								</div> 

								<div class="form-group row">
									<div class="cell c1">
										<label for="appByIdno">IC
											<Noscript></Noscript> :</label>
									</div>
									<div class="cell c2345">
										<input id="appByIdno" type="text" maxlength="20" class="form-control text-control" formControlName="appByIdno" />
										<div *ngIf="formErrors.appByIdno" class="alert alert-danger">
											{{ formErrors.appByIdno }}
										</div>
									</div>
								</div>

								<div class="form-group row">
									<div class="cell c1">
										<label for="appByPos">Position :</label>
									</div>
									<div class="cell c2345">
										<input id="appByPos" type="text" maxlength="50" class="form-control text-control" formControlName="appByPos" />
										<div *ngIf="formErrors.appByPos" class="alert alert-danger">
											{{ formErrors.appByPos }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="appDate">Application Date :</label>
									</div>
									<div class="cell c2345">
										<p-calendar dateFormat="dd/mm/yy" formControlName="appDate" [showIcon]="true" [monthNavigator]="true"></p-calendar>
										<div *ngIf="formErrors.appDate" class="alert alert-danger">
											{{ formErrors.appDate }}
										</div>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell" style="width:400px">
										<label for="mfdGoodY3">Jenis barang bagi mengilang untuk permohonan : </label>
									</div>
									<div class="cell" style="width: 500px"> 
									  
									  <textarea id="mfdGoodY3" rows="5" cols="70" maxlength="1000" pInputTextarea autoResize="autoResize" formControlName="mfdGoodY3"></textarea>
															
															
										<div *ngIf="formErrors.mfdGoodY3" class="alert alert-danger">
											{{ formErrors.mfdGoodY3 }}
										</div>  
										 
									</div>
								</div>
								
								 <div class="form-group row">
									<div class="cell c1">
										<label for="mfdLicenseSdate">License Date - From :</label>
									</div>
									<div class="cell c2">
										<p-calendar dateFormat="dd/mm/yy" formControlName="mfdLicenseSdate" [showIcon]="true" [monthNavigator]="true"></p-calendar>
										<div *ngIf="formErrors.mfdLicenseSdate" class="alert alert-danger">
											{{ formErrors.mfdLicenseSdate }}
										</div>
									</div>
									<div class="cell c3"> 
									</div>
									<div class="cell c4">
										<label for="mfdLicenseEdate">To :</label>
									</div>
									<div class="cell c5">
										<p-calendar dateFormat="dd/mm/yy" formControlName="mfdLicenseEdate" [showIcon]="true" [monthNavigator]="true"></p-calendar>
										<div *ngIf="formErrors.mfdLicenseEdate" class="alert alert-danger">
											{{ formErrors.mfdLicenseEdate }}
										</div>
									</div>
								</div> 
								
                            <div class="form-group row" style="padding-top:30px">
                                <div class="cell" style="width:600px">
                                  <label for="isChgCoName">2.1. Adakah perubahan berlaku ke atas nama syarikat sekarang? </label>
                                </div> 
                                <div class="cell">    

                                    <input type="radio" formControlName="isChgCoName" [value]="true">
                                    Ya
                                    &nbsp;&nbsp;<input type="radio" formControlName="isChgCoName" [value]="false">
                                    Tidak
 
                                </div>  
                            </div>  

                            <div class="form-group row">
                                <div class="cell" style="width:600px">
                                <label for="isChgCoMember">2.2. Adakah perubahan berlaku ke atas ahli-ahli Lembaga Syarikat? </label>
                                </div> 
                                <div class="cell">    

                                    <input type="radio" formControlName="isChgCoMember" [value]="true">
                                    Ya
                                    &nbsp;&nbsp;<input type="radio" formControlName="isChgCoMember" [value]="false">
                                    Tidak
 
                                </div>  
                            </div>  

                            <div class="form-group row">
                                <div class="cell" style="width:600px">
                                <label for="isChgAddress">3.1. Adakah perubahan berlaku ke atas alamat premis? </label>
                                </div> 
                                <div class="cell">    

                                    <input type="radio" formControlName="isChgAddress" [value]="true">
                                    Ya
                                    &nbsp;&nbsp;<input type="radio" formControlName="isChgAddress" [value]="false">
                                    Tidak
 
                                </div>  
                            </div>  

                            <div class="form-group row">
                                <div class="cell" style="width:600px">
                                <label for="isChgFtyStr">3.2. Adakah perubahan berlaku ke atas struktur kilang?</label>
                                </div> 
                                <div class="cell">    

                                    <input type="radio" formControlName="isChgFtyStr" [value]="true">
                                    Ya
                                    &nbsp;&nbsp;<input type="radio" formControlName="isChgFtyStr" [value]="false">
                                    Tidak
 
                                </div>  
                            </div>  

                            <div class="form-group row">
                                <div class="cell" style="width:600px">
                                <label for="isChgEq">3.3. Adakah perubahan berlaku ke atas mesin-mesin/alat-alat kelengkapan?</label>
                                </div> 
                                <div class="cell">    

                                    <input type="radio" formControlName="isChgEq" [value]="true">
                                    Ya
                                    &nbsp;&nbsp;<input type="radio" formControlName="isChgEq" [value]="false">
                                    Tidak
 
                                </div>  
                            </div>  
					
                            <div class="form-group row">
                                <div class="cell" style="width: 600px">
                                    <label for="bgtRmcost">4.2. Anggaran nilai bahan-bahan mentah / komponen yang akan digunakan dalam tahun ini :</label>
                                </div>
                                <div class="cell" style="width: 300px">
                                
                                    <div class="input-group">
                                        <div class="input-group-addon">
                                            <span>RM</span>
                                        </div>
                                    <input id="bgtRmcost" formControlName="bgtRmcost" maxlength="16" type="number" class="form-control text-control"/> 
                                    </div> 
                                    <div *ngIf="formErrors.bgtRmcost" class="alert alert-danger">
                                        {{ formErrors.bgtRmcost }}
                                    </div>  
                                    
                                </div>
                        </div>
								
                        <!--<div class="form-group row" style="padding-top:20px">
                            <div class="cell" style="width:400px">
                                <label for="mfdGoodY1">4.3. Jenis barang yang dikilang tahun lepas : </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                            <textarea id="mfdGoodY1" rows="5" cols="70" maxlength="1000" pInputTextarea autoResize="autoResize" formControlName="mfdGoodY1"></textarea>
                                                        
                            <div *ngIf="formErrors.mfdGoodY1" class="alert alert-danger">
                                    {{ formErrors.mfdGoodY1 }}
                                </div>  
                                
                            </div>
                        </div>-->
					
                        <div class="form-group row" style="padding-top:20px">
                            <div class="cell" style="width:400px">
                                <label for="mfdGoodY2">4.4. Jenis barang yang dikilang tahun ini : </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                            <textarea id="mfdGoodY2" rows="5" cols="70" maxlength="1000" pInputTextarea autoResize="autoResize" formControlName="mfdGoodY2"></textarea>
                                                    
                                                    
                                <div *ngIf="formErrors.mfdGoodY2" class="alert alert-danger">
                                    {{ formErrors.mfdGoodY2 }}
                                </div>  
                                
                            </div>
                        </div> 

                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="bgtRdyGoodCost">4.6. Anggaran nilai pengeluaran barang siap tahun ini : </label>
                            </div>
                            <div class="cell" style="width: 300px">
                            
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <span>RM</span>
                                    </div>
                                <input id="bgtRdyGoodCost" formControlName="bgtRdyGoodCost" maxlength="16" type="number" class="form-control text-control"/> 
                                </div> 
                                <div *ngIf="formErrors.bgtRdyGoodCost" class="alert alert-danger">
                                    {{ formErrors.bgtRdyGoodCost }}
                                </div>  
                                
                            </div>
                        </div> 
				
                        <div class="form-group row" style="padding-top:20px; clear:both"> 
                            <label  class="label label-success" style="font-size:13px">5.1. Pasaran</label>
                        </div>

                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="mktExpRate">i) Nilai eksport tahun lepas : </label>
                            </div>
                            <div class="cell" style="width: 150px">
                            
                                <div class="input-group">
                                <input id="mktExpRate" formControlName="mktExpRate" maxlength="16" type="number" class="form-control text-control"/> 
                                    <div class="input-group-addon">
                                        <span>%</span>
                                    </div>
                                </div> 
                                <div *ngIf="formErrors.mktExpRate" class="alert alert-danger">
                                    {{ formErrors.mktExpRate }}
                                </div>  
                                
                            </div>
                        </div>
				
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="bgtMktExpCost">ii) Anggaran nilai eskport tahun ini : </label>
                            </div>
                            <div class="cell" style="width: 300px">
                            
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <span>RM</span>
                                    </div>
                                <input id="bgtMktExpCost" formControlName="bgtMktExpCost" maxlength="16" type="number" class="form-control text-control"/> 
                                </div> 
                                <div *ngIf="formErrors.bgtMktExpCost" class="alert alert-danger">
                                    {{ formErrors.bgtMktExpCost }}
                                </div>  
                                
                            </div> 
                            <div class="cell" style="width: 150px">
                            
                                <div class="input-group">
                                <input id="bgtMktExpRate" formControlName="bgtMktExpRate" maxlength="16" type="number" class="form-control text-control"/> 
                                    <div class="input-group-addon">
                                        <span>%</span>
                                    </div>
                                </div> 
                                <div *ngIf="formErrors.bgtMktExpRate" class="alert alert-danger">
                                    {{ formErrors.bgtMktExpRate }}
                                </div>  
                                
                            </div>
				        </div>
			 
        
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="localSalesRate">iii) Nilai jualan tempatan tahun lepas : </label>
                            </div> 
                            <div class="cell" style="width: 150px">
                            
                                <div class="input-group">
                                <input id="localSalesRate" formControlName="localSalesRate" maxlength="16" type="number" class="form-control text-control"/> 
                                    <div class="input-group-addon">
                                        <span>%</span>
                                    </div>
                                </div> 
                                <div *ngIf="formErrors.localSalesRate" class="alert alert-danger">
                                    {{ formErrors.localSalesRate }}
                                </div>  
                                
                            </div>
                        </div>
				
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="bgtLocSalesCost">iv) Anggaran nilai jualan tempatan tahun ini : </label>
                            </div>
                            <div class="cell" style="width: 300px">
                            
                                <div class="input-group">
                                    <div class="input-group-addon">
                                        <span>RM</span>
                                    </div>
                                <input id="bgtLocSalesCost" formControlName="bgtLocSalesCost" maxlength="16" type="number" class="form-control text-control"/> 
                                </div> 
                                <div *ngIf="formErrors.bgtLocSalesCost" class="alert alert-danger">
                                    {{ formErrors.bgtLocSalesCost }}
                                </div>  
                                
                            </div> 
                            <div class="cell" style="width: 150px">
                            
                                <div class="input-group">
                                <input id="bgtLocSalesRate" formControlName="bgtLocSalesRate" maxlength="16" type="number" class="form-control text-control"/> 
                                    <div class="input-group-addon">
                                        <span>%</span>
                                    </div>
                                </div> 
                                <div *ngIf="formErrors.bgtLocSalesRate" class="alert alert-danger">
                                    {{ formErrors.bgtLocSalesRate }}
                                </div>  
                                
                            </div>
                        </div>
                        
				
                        <div class="form-group row" style="padding-top:20px; clear:both"> 
                            <label  class="label label-success" style="font-size:13px">5.2. Activiti selain pengilangan</label>
                        </div> 
                        
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="ipcRdc">i) IPC/RDC : </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                                <input id="ipcRdc" formControlName="ipcRdc" maxlength="200" type="text" class="form-control text-control"/> 
                                <div *ngIf="formErrors.ipcRdc" class="alert alert-danger">
                                    {{ formErrors.ipcRdc }}
                                </div>  
                                
                            </div>
                        </div>
				
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="valueAdded">ii) Aktiviti Nilai Ditambah: </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                                <input id="valueAdded" formControlName="valueAdded" maxlength="200" type="text" class="form-control text-control"/> 
                                <div *ngIf="formErrors.valueAdded" class="alert alert-danger">
                                    {{ formErrors.valueAdded }}
                                </div>  
                                
                            </div>
                        </div>
                        
                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="repairSvc">iii) Re-manufacturing, Repairing, Servicing : </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                                <input id="repairSvc" formControlName="repairSvc" maxlength="200" type="text" class="form-control text-control"/> 
                                <div *ngIf="formErrors.repairSvc" class="alert alert-danger">
                                    {{ formErrors.repairSvc }}
                                </div>  
                                
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="cell" style="width:400px">
                                <label for="sparePart">iv) Eksport bahan mentah sebagai alat ganti : </label>
                            </div>
                            <div class="cell" style="width: 500px"> 
                            
                                <input id="sparePart" formControlName="sparePart" maxlength="200" type="text" class="form-control text-control"/> 
                                <div *ngIf="formErrors.sparePart" class="alert alert-danger">
                                    {{ formErrors.sparePart }}
                                </div>  
                                
                            </div>
						</div> 
						

						
								<div class="form-group row" style="padding-top:20px"> 
									<label  class="label label-success" style="font-size:13px">Report Signed By</label>
								</div>
								
								
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptCoName">Company Name :</label>
									</div>
									<div class="cell c2345">
										<input id="rptCoName" type="text" maxlength="50" class="form-control text-control" formControlName="rptCoName" />
										<div *ngIf="formErrors.rptCoName" class="alert alert-danger">
											{{ formErrors.rptCoName }}
										</div>
									</div>
								</div> 
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSignedByEmpId">Employee :</label>
									</div>
									<div class="cell c2345">
										<select class="form-control" formControlName="rptSignedByEmpId" style="width:300px" (change)="onEmpRptChange($event.target.value)">
											<option *ngFor="let obj of empRows" [value]="obj.empId">{{obj.empName}}</option>
										</select>
									</div>
                                </div>
                                
								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSignedByName">Name :</label>
									</div>
									<div class="cell c2345">
										<input id="rptSignedByName" type="text" maxlength="50" class="form-control text-control" formControlName="rptSignedByName" />
										<div *ngIf="formErrors.rptSignedByName" class="alert alert-danger">
											{{ formErrors.rptSignedByName }}
										</div>
									</div>
								</div> 

								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSignedByIdno">IC
											<Noscript></Noscript> :</label>
									</div>
									<div class="cell c2345">
										<input id="rptSignedByIdno" type="text" maxlength="20" class="form-control text-control" formControlName="rptSignedByIdno" />
										<div *ngIf="formErrors.rptSignedByIdno" class="alert alert-danger">
											{{ formErrors.rptSignedByIdno }}
										</div>
									</div>
								</div>

								<div class="form-group row">
									<div class="cell c1">
										<label for="rptSignedByPos">Position :</label>
									</div>
									<div class="cell c2345">
										<input id="rptSignedByPos" type="text" maxlength="50" class="form-control text-control" formControlName="rptSignedByPos" />
										<div *ngIf="formErrors.rptSignedByPos" class="alert alert-danger">
											{{ formErrors.rptSignedByPos }}
										</div>
									</div>
								</div>
								


				             </div>
				         </div>
			     	</div>
				</form>

				
						<div class="form-group row">
							<div class="cell c1">
							</div>
							<div class="cell c2">
							</div>
							<div class="cell c3">
							</div>
							<div class="cell c4">
							</div>
							<div class="cell c5" style="text-align:right">

								<p-button icon="fa fa-fw fa-save" label="Save" [disabled]="!dataForm.valid" (click)="save()"></p-button>
								<p-button icon="fa fa-fw fa-save" label="Save" [disabled]="!dataForm.valid" (click)="testSave()"></p-button>
							</div>
						</div>

						<p>Form value: {{ dataForm.value | json }}</p>


			</p-tabPanel>

			<p-tabPanel header="Detail Entry" (click)="changeTab(0)">


				<p-button icon="fa fa-fw fa-save"  label="Add new entry" style="display:none" (click)="showEntryForm()">
				</p-button>

				<p-table #dtEntry (onRowExpand)="onRowExpanded($event)" [columns]="dataEntryColumns" [value]="data.rptSkMimp" selectionMode="single"
				 [paginator]="true" [rows]="10" dataKey="txnId">
 
					<ng-template pTemplate="header" let-dataEntryColumns>
						<tr [pSelectableRow]="rowData">
							<th style="width: 2.25em"></th>
							<th style="text-align:center; width:80px">Bill</th> 
						</tr>
					</ng-template> 

					 <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded" columns="columns">
						<tr [pSelectableRow]="rowData">
							<td>
								<div [pRowToggler]="rowData">
									<i [ngClass]="expanded ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
								</div>
							</td>
							<td style="width:80px">{{rowData.txnId}}</td> 
						</tr>
					</ng-template>  
  
					<ng-template pTemplate="rowexpansion" let-rowData let-columns="columns">

						<tr>

							<form [formGroup]='expandEditForm'>

								<td [attr.colspan]="columns.length + 1">

									<div style="width:1000px;padding:0px">
										<div class="panel panel-info">
											<div class="panel-body" style="padding:5px; padding-left:30px">
 

												<div class="form-group row">
													<div class="cell c1">
														<label for="catatan"></label>
													</div>
													<div class="cell c2345">

														<p-button icon="fa fa-fw fa-plus" label="Update" (click)="onGridRowSave(rowData, dtEntry)"></p-button>
														<p-button icon="fa fa-fw fa-close" label="Cancel" (click)="onGridRowCancel(rowData, dtEntry)"></p-button>

													</div>
												</div>
											</div>
										</div>
									</div>



								</td>

							</form>

						</tr>

					</ng-template>

				</p-table>

				<div>

					<div>

						<p>Form value: {{ dataForm.value | json }}</p>
					</div>

				</div>

				<div class="container" style="text-align:right">

					<p-button icon="fa fa-fw fa-save" label="Save" (click)="save()"></p-button>
				</div>


			</p-tabPanel>



		</p-tabView>

	</p-dialog>

</div>

  
<div class="container">

	<div style="text-align:left; float:left"> 
		<b>REPORT - LESEN GUDANG</b>
	</div>
	<div style="text-align:right; float:right">
		<p-button (onClick)="addForm()" icon="fa fa-fw fa-plus" label="Add"></p-button>

		<p-button (onClick)="editForm()" icon="fa fa-fw fa-edit" label="Edit"></p-button>

		<p-button (onClick)="printReport()" icon="fa fa-fw fa-print" label="Print"></p-button>
	</div> 
</div>  



<div style="clear:both; height:10px"></div>


<div class="container">
 
 
   <p-table [columns]="mainColumns" [value]="rows" selectionMode="single" [paginator]="true" [rows]="10" (onRowSelect)="onRowSelect($event)">
  
	<ng-template pTemplate="header" let-dataEntryColumns>
			<tr [pSelectableRow]="rowData">
				<th style="text-align:center; width:80px">Report ID</th>
				<th style="text-align:center; width:150px">Report Month/Year</th>
				<th style="text-align:center">Reference No</th>
				<th style="text-align:center">Total Sales</th> 
			</tr>
		</ng-template>
		
  <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded" columns="columns">
		 <tr [pSelectableRow]="rowData">
            <td>{{rowData.rptId}}</td>
            <td style="text-align:center">{{rowData.rptDate | date: 'MMM / yyyy'}}</td> 
            <td>{{rowData.refNo}}</td> 
            <td style="text-align:right">{{rowData.salesExpCont + rowData.salesGpb + rowData.salesFiz  
				+ rowData.salesLocal | number:'1.2-2'}}</td> 
        </tr>
	</ng-template> 
	
</p-table>

</div>

<p-dialog id="formAction" header="{{formTitle}}" [(visible)]="displayDataEntry" modal='true'>

	<form [formGroup]='entryDetailForm'>
 
	</form>
 
</p-dialog>

<p-dialog id="formPrintReport" header="Print Lesen Gudang - {{data.rptId}}" [(visible)]="displayPrintReport" modal='true'> 
	 
 
     <div style="float:left">
       <a target="_self" class="btn btn-success" role="button" href="{{applicationHost}}/rptLg/DownloadLetter/{{data.rptId}}">Lesen Gudang (Letter)</a>
    </div>
    <div style="padding-left:20px;float:left">
      <a target="_self" class="btn btn-danger" role="button" href="{{applicationHost}}/rptLg/DownloadAttachment/{{data.rptId}}">Lampiran B</a>
    </div>
	
	
    <div style="clear:both; padding-top:20px"></div>
  
     <div style="float:left">
      <a target="_self" class="btn btn-warning" role="button" href="{{applicationHost}}/rptLg/DownloadImportRptY1/{{data.rptId}}">Laporan Bahan yang diimport tahun lepas</a>
	</div> 
     <div style="padding-left:20px;float:left">
       <a target="_self" class="btn btn-warning" role="button" href="{{applicationHost}}/rptLg/DownloadImportRptY2/{{data.rptId}}">Laporan Bahan yang diimport tahun ini</a>
     </div>
 
	<div style="clear:both; padding-top:20px"></div>
	
     <div style="float:left">
      <a target="_self" class="btn btn-primary" role="button" href="{{applicationHost}}/rptLg/DownloadExportRptY1/{{data.rptId}}">Laporan Bahan yang dieksport tahun lepas</a>
     </div>
     <div style="float:left;padding-left:20px">
      <a target="_self" class="btn btn-primary" role="button" href="{{applicationHost}}/rptLg/DownloadExportRptY2/{{data.rptId}}">Laporan Bahan yang dieksport tahun ini</a>
	</div>
	
	<div style="clear:both; padding-top:20px"></div>

	
      <div style="float:left">
       <a target="_self" class="btn btn-info" role="button" href="{{applicationHost}}/rptLg/DownloadLampiranA1/{{data.rptId}}">Lampiran A1</a>
     </div>
     <div style="float:left;padding-left:20px">
      <a target="_self" class="btn btn-info" role="button" href="{{applicationHost}}/rptLg/DownloadLampiranA2/{{data.rptId}}">Lampiran A2</a>
	 </div>

     <div style="float:left;padding-left:20px">
      <a target="_self" class="btn btn-info" role="button" href="{{applicationHost}}/rptLg/DownloadLampiranA21/{{data.rptId}}">Lampiran A2 (1)</a>
     </div>
  
     <div style="float:left;padding-left:20px">
       <a target="_self" class="btn btn-info" role="button" href="{{applicationHost}}/rptLg/DownloadLampiranA3/{{data.rptId}}">Lampiran A3</a>
    </div>
  

</p-dialog>